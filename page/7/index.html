
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Rogério Lino</title>
  <meta name="author" content="Rogério Lino">

  
  <meta name="description" content="**UPDATE**: Ao invés de usar a função abaixo, utilize **split + join**. Conforme mostrado no post [http://rogeriolino.com/2009/01/07/javascript- &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rogeriolino.com/page/7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Rogério Lino" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12652599-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rogeriolino.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/07/23/javascript-replaceall/">Javascript: replaceAll()</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-07-23T18:20:57-03:00" pubdate data-updated="true">Jul 23<sup>rd</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>**UPDATE**: Ao invés de usar a função abaixo, utilize **split + join**. Conforme mostrado no post [http://rogeriolino.com/2009/01/07/javascript-benchmark-replaceall/](http://rogeriolino.com/2009/01/07/javascript-benchmark-replaceall/)</blockquote>


<p>Creio que algumas pessoas já se depararam com a situação de ter que substituir um caracter ou uma string num texto. Tudo resolveria casa o replace() não substituisse só o primeiro token encontrado.</p>

<p>Por isso temos que criar nossa própria função para sair buscando os resultados repitidos. Abaixo segue uma simples função que realiza tal instrução:</p>

<pre><code>function replaceAll(string, token, newtoken) {
    while (string.indexOf(token) != -1) {
        string = string.replace(token, newtoken);
    }
    return string;
}
</code></pre>

<p>Com a ajuda do indexOf() &ndash; que retorna a posição da string que queira achar ou -1 caso não encontre &ndash; podemos em poucas linhas resolver isso.</p>

<p>Enquanto ainda existir a string que queira substituir (indexOf != -1) substitua (replace).</p>

<p>Uso:</p>

<pre><code>str = "Phasellus commodo gravida ligula. Vivamus libero eros, dignissim sit amet, imperdiet quis, condimentum ut, enim.";
window.alert(replaceAll(str, "a", "[A]"));
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/04/09/wiki-flashmasters/">Wiki FlashMasters</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-04-09T14:43:36-03:00" pubdate data-updated="true">Apr 9<sup>th</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Já tem algum tempo que está no ar a <a href="http://wiki.flashmasters.net/">Wikipedia FlashMasters</a> mas estava esperando juntar mais um pouco de conteúdo antes de divulgá-la aqui.</p>

<p>Lá você poderá tirar sua dúvida sobre algum comando ActionScript por exemplo, ou até mesmo deixar sua contribuíção. Assim como eu em <a href="http://wiki.flashmasters.net/index.php?title=Operadores">Operadores</a>, que também postei <a href="http://rogeriolino.com/2007/03/24/actionscript-operadores/">aqui no blog</a>.</p>

<p>A intenção por trás da criação do Wiki está em ter o Help (ou um) do Flash traduzido para o português. Como o <a href="http://livedocs.adobe.com/flash/8/">LiveDocs</a> da Adobe.</p>

<p>Tirando muitas dúvida dos usuários Flash do Brasil. Que sempre reclamam de ter pouco conteúdo a respeito escrito em nosso idioma.</p>

<p>Sem esquecer também do <a href="www.flashmasters.net/forum">Forum</a>, bem rico em conteúdo. E contanto com os melhores Flash Users do Brasil para sanar sua(s) dúvida(s).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/04/01/javascript-graphic-generator/">Javascript: Graphic Generator</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-04-01T12:32:22-03:00" pubdate data-updated="true">Apr 1<sup>st</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://rogeriolino.files.wordpress.com/2007/04/grafico.jpg" alt="Gráfico" /></p>

<p>Esses dias um pouco inspirado com a aula de Probabilidade e Estatística, resolvi fazer um script para gerar gráficos de barras.</p>

<p>Você cria um novo objeto <strong>Grafico </strong>(sem acento mesmo &ndash; <strong>new Grafico(n);</strong> ) passando o número de barras como parâmetro e então a partir dele com set&rsquo;s e get&rsquo;s você gera o seu gráfico.</p>

<p>Não vou explicar aqui linha por linha porque o código não está pequeno e também porque está bem simples de entender. Mas havendo alguma dúvida é só deixar um comentário que logo eu respondo.</p>

<p><a href="http://dev.rogeriolino.com/exemplos/javascript/grafico/index.html">Clique aqui para vê-lo funcionando</a>.</p>

<p>O código que gerou o gráfico da imagem ao lado é o seguinte:</p>

<pre><code>var grafico = new Grafico(11);
grafico.setSize("200px");
grafico.setTitle("Grafico de Barras");
grafico.setSource("Fonte: Fictícia");
grafico.setBarraSize(0, "80%");
grafico.setBarraLabel(0, "manga");
grafico.setBarraSize(1, "30%");
grafico.setBarraLabel(1, "banana");
grafico.setBarraSize(2, "50%");
grafico.setBarraLabel(2, "maracuja");
grafico.setBarraSize(3, "100%");
grafico.setBarraLabel(3, "melancia");
grafico.setBarraSize(4, "70%");
grafico.setBarraLabel(4, "maracuja");
grafico.setBarraSize(5, "76%");
grafico.setBarraLabel(5, "pera");
grafico.setBarraSize(6, "30%");
grafico.setBarraLabel(6, "uva");
grafico.setBarraSize(7, "47%");
grafico.setBarraLabel(7, "melao");
grafico.setBarraSize(8, "25%");
grafico.setBarraLabel(8, "laranja");
grafico.setBarraSize(9, "90%");
grafico.setBarraLabel(9, "abacaxi");
grafico.setBarraSize(10, "10%");
grafico.setBarraLabel(10, "kiwi");
</code></pre>

<p><strong>[update]</strong></p>

<p><a href="http://dev.rogeriolino.com/exemplos/javascript/grafico/Grafico.rar">Faça o download do exemplo aqui (.rar)</a></p>

<p><strong>[/update]</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/03/24/actionscript-operadores/">ActionScript: Operadores</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-03-24T18:40:27-03:00" pubdate data-updated="true">Mar 24<sup>th</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Operadores são caracteres que servem para especificar como combinar, comparar ou modificar os valores de um expressão.
<strong>Operadores Mais Utilizados:</strong></p>

<p><strong>+</strong> (adição)</p>

<p>Adiciona um número, variável numérica, à expressão ou concatena (une) Strings.
<strong>Ex.:</strong></p>

<pre><code>var n:Number = A + 10;
var s:String = "Foo" + "bar";
</code></pre>

<p><strong>+=</strong> (atribuição)</p>

<p>Atribui à expressão1 o valor da expressão1 mais o valor da expressão2.
<strong>Ex.:</strong></p>

<pre><code>var s:String = "Foo";
s += " bar";
trace(s) // "Foo bar"

var n:Number = 10;
n += 2; 
trace(n) // 12
</code></pre>

<p><strong>[]</strong> (acesso à array)</p>

<p>Inicialize uma nova array (vetor ou matriz) com os elementos especificados, ou acessa os elementos através de um índice (inteiro).
<strong>Ex.:</strong></p>

<pre><code>// inicializando um vetor com 3 posições
var frutas:Array = ["banana", "manga", "uva"];

// minhaFruta irá receber "manga"
var minhaFruta:String = frutas[1];

// alterou o valor da posição 0 do vetor de "banana" para "abacaxi"
frutas[0] = "abacaxi";

// inicializando uma matriz 3 por 3
var matriz:Array = [
    [1, 2, 3], 
    [4, 5, 6], 
    [7, 8, 9]
]; 

// n recebe o valor da posição 2,2 da matriz, n = 5
var n:Number = matriz[2, 2]; 
</code></pre>

<p><strong>=</strong> (atribui/recebe)</p>

<p>Atribui o valor da expressão2 (direita) à expressão1 (esquerda).
<strong>Ex.:</strong></p>

<pre><code>var str:String = "Foobar";
var n:Number = 15;
</code></pre>

<p><strong>&mdash;</strong> (decremento)</p>

<p>Decrementa em 1 a variável. Caso venha antes da expressão (esquerda) terá maior relevância, a variável será decrementada primeiro, caso venha depois da expressão (direita) só será feita depois.
<strong>Ex.:</strong></p>

<pre><code>var n1:Number = 10;
trace(--n1); // 9

var n2:Number = 10;
trace(n2--); // 10
</code></pre>

<p><strong>/</strong> (divisão)</p>

<p>Divide a expressão1 pela expressão2.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 12;
var b:Number = 3;
trace(a / b); // saída: 4
</code></pre>

<p><strong>==</strong> (igualdade)</p>

<p>Testa a igualdade de duas expressões.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
var b:Number = 10;
var c:Number = 5;

trace(a == b); // false
trace(a == c); // true
</code></pre>

<p><strong>></strong> (maior que)</p>

<p>Compara duas expressções e determina se a expressão1 é maior que a expressão2, se for retorna true.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
var b:Number = 10;

trace(a &gt; b); // false
trace(b &gt; a); // true
</code></pre>

<p><strong>>=</strong> (maior ou igual que)</p>

<p>Compara duas expressões e determina se a expressão1 é maior ou igual que a expressão2, se for retorna true.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
var b:Number = 5;
var c:Number = 7;

trace(a &gt;= b); // true
trace(c &gt;= b); // true
</code></pre>

<p><strong>++</strong> (incremento)</p>

<p>Incrementa em 1 a variável. Caso venha antes da expressão (esquerda) terá maior relevância, a variável será incrementada primeiro, caso venha depois da expressão (direita) só será feita depois.</p>

<p><strong>Ex.:</strong></p>

<pre><code>var n1:Number = 10;
trace(++n1); // 11

var n2:Number = 10;
trace(n2++); // 10
</code></pre>

<p><strong>!=</strong> (desigualdade/diferente)</p>

<p>Testa a desigualdade de duas expressões.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
var b:Number = 10;
var c:Number = 5;

trace(a != b); // true
trace(a != c); // false
</code></pre>

<p><strong>&lt;</strong> (menor que)</p>

<p>Compara duas expressções e determina se a expressão1 é menor que a expressão2, se for retorna true.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
var b:Number = 10;

trace(a &lt; b); // true
trace(b &lt; a); // false
</code></pre>

<p><strong>&lt;=</strong> (menor igual que)</p>

<p>Compara duas expressões e determina se a expressão1 é menor ou igual que a expressão2, se for retorna true.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
var b:Number = 5;
var c:Number = 7;

trace(a &lt;= b); // true
trace(b &lt;= c); // true
</code></pre>

<p><strong>&amp;&amp;</strong> (E lógico)</p>

<p>Executa uma operação booleana nos valores de ambas expressões.
<strong>Ex.:</strong></p>

<pre><code>var n:Number = 50;
if ((n &gt; 10) &amp;&amp; (n &lt; 80)) {
    trace("n está entre 10 e 80");
}
</code></pre>

<p><strong>!</strong> (NÃO lógico)</p>

<p>Inverte o valor booleano da variável ou expressão (negação).
<strong>Ex.:</strong></p>

<pre><code>var b:Boolean = false;
if (!b) {
    trace("Condição passada como true");
}
</code></pre>

<p><strong>||</strong> (OU lógico)</p>

<p>Executa uma operação booleana nos valores de ambas expressões.
<strong>Ex.:</strong></p>

<pre><code>var n:Number = 100;
if ((n &lt; 10) &amp;&amp; (n &gt; 80)) {
    trace("n é menor que 10 ou maior que 80");
}
</code></pre>

<p><strong>%</strong> (módulo/mod)</p>

<p>Calcula o resto da divisão entre a expressão1 pela expressão2.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 10;
var b:Number = 3;

trace(a%b); // 1
</code></pre>

<p>***** (multiplicação)</p>

<p>Multiplica a expressão1 pela expressão2.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 4;
var b:Number = 3;

trace(a*b); // 12
</code></pre>

<p><strong>&ndash;</strong> (subtração)</p>

<p>Usado para subtrair ou negar, transformar em negativo, expressões.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 8;
var b:Number = 2;

trace(a-b); // 6
trace(-(a-b)); // -6
</code></pre>

<p><strong>&ndash;=</strong> (atribuição de decremento)</p>

<p>Atribui à expressão1 o valor da expressão1 menos a expressão2.
<strong>Ex.:</strong></p>

<pre><code>var a:Number = 5;
a -= 3;

trace(a); // 2
</code></pre>

<p>Para saber mais sobre operadores do Actionscript veja no próprio help do Flash, ou no <a href="http://livedocs.adobe.com/flash/8/">LiveDocs da Adobe</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/03/21/javascript-image-preloader/">Javascript: Image Preloader</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-03-21T00:27:44-03:00" pubdate data-updated="true">Mar 21<sup>st</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Conforme prometido aqui um exemplo de preloader de imagem feito em Javascript:</p>

<p><a href="http://dev.rogeriolino.com/exemplos/javascript/image_preloader/index.html">Clique aqui para visualizar</a></p>

<pre><code>var bgColor = "#FFFFFF";
var bgImage = "http://www.../loading.gif";
var bgRepeat = "no-repeat";
var bgPosition = "center center";
var borderWidth = "3px";
var borderStyle = "solid";
var borderColor = "#3366FF";

var loadImage = function(w, h, url, target) {
    var img = new Image(w, h);
    img.src = url;
    img.style.visibility = "hidden";
    var molde = document.createElement("div");
    molde.setAttribute("id", "molde");

    var style = molde.style;
    style.border = borderWidth+" "+borderStyle+" "+borderColor;
    style.background = bgColor+" url("+bgImage+") "+bgRepeat+" "+bgPosition;
    style.width = img.width+"px";
    style.height = img.height+"px";

    document.getElementById(target).appendChild(molde);
    molde.appendChild(img);
    img.onload = function() {
        this.style.visibility = "visible";
        molde.style.background = bgColor;
    }
}
</code></pre>

<p>Nesse caso ao invés de aplicar o <strong>background</strong> na tag <strong>img</strong>, apliquei numa <strong>div</strong> que funciona como uma <strong>moldura</strong>. E está de fácil personalização, bastando apenas alterar as variáveis globais.</p>

<p>O código é de fácil entendimento, deixa-se a imagem transparente e quando ela carregada (<strong>onload</strong>) ela &ldquo;volta&rdquo; a ser visível.</p>

<p>Para usar coloque isso no HTML:</p>

<pre><code>/*
 * largura: largura da imagem em pixel
 * altura: altura da imagem em pixel
 * url: caminho para a imagem
 * alvo: id da tag aonde deverá ser adicionada a imagem
 */
var imagem = new loadImage(largura, altura, url, alvo);
</code></pre>

<p>Qualquer dúvida ou sugestão só comentar.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/03/16/css-loading-image/">CSS: Loading Image</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-03-16T15:27:11-03:00" pubdate data-updated="true">Mar 16<sup>th</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Podemos simular um pré-carregamento de uma imagem utilizando a propriedade CSS<strong> background</strong> setando um outra imagem, na qual informará o carregamento da imagem.</p>

<pre><code>img {
    background: #ffffff url(loading.gif) no-repeat center center;
}
</code></pre>

<p>E pronto, mas uma observação um tanto lógica e óbvia que deve se fazer é sobre o tamanho da imagem de fundo, que deve ser pequena para ser mostrada rapidamente.</p>

<p><a href="http://dev.rogeriolino.com/exemplos/css/loading_image/index.html">Aqui você vê um exemplo</a></p>

<p>Uma maneira mais útil de utilizar isso seria com <strong>javascript</strong> com a função <strong>onLoad</strong> para só mostrar a imagem depois dela totalmente carregada.</p>

<p>Liberando um tempo vago darei um update nesse post com o exemplo já utilizando javascript.</p>

<p><strong>[update]</strong>
Link para o exemplo com Javascript:
<a href="http://rogeriolino.com/2007/03/21/javascript-image-preloader/">http://rogeriolino.com/2007/03/21/javascript-image-preloader/</a>
<strong>[/update]</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/03/06/flash-resize-proporcional/">Flash: Resize Proporcional</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-03-06T23:41:33-03:00" pubdate data-updated="true">Mar 6<sup>th</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Acabei de responder no <a href="http://www.flashmasters.com.br/forum/">forum da FlashMasters</a> um tópico que se tratava sobre a seguinte dúvida:</p>

<p>O membro queria saber alguma função que redimensiona-se um determinado objeto mas mantendo a sua proporção. Por exemplo um MovieClip de tamanho 400x200 se eu aumentar a largura em 100 tenho que aumentar a altura em 50. Isso devido a razão entre os dois valores.</p>

<p>Então com um lápis na mão podemos chegar a seguinte fórmula para uma nova altura caso altere sua largura:</p>

<blockquote>
**H =  dW . H/W + H**
Aonde:
_ H: Altura_
_W: Largura_
_dX:  delta da variável &#8220;X&#8221;_
</blockquote>


<p><em>Sabendo a fórmula para uma nova altura é facil chegar na da nova largura:</em></p>

<blockquote>**W = dH . W/H + W**</blockquote>


<p>Agora então mãos a obra com as Actions:</p>

<pre><code>MovieClip.prototype.resizeW = function(w) {
    var dw = w - this._width;
    this._height += dw * (this._height / this._width);
    this._width = w;
}

MovieClip.prototype.resizeH = function(h) {
    var dh = h - this._height;
    this._width += dh * (this._width / this._height);
    this._height = h;
}
</code></pre>

<p>Para utilizar:</p>

<pre><code>// redimensionando a partir da largura
MovieClip.resizeW(novaLargura);

// redimensionando a partir da altura
MovieClip.resizeH(novaAltura);
</code></pre>

<p>Espero que seja útil.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/02/24/javascript-tooltip/">Javascript: Tooltip</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-02-24T20:50:26-02:00" pubdate data-updated="true">Feb 24<sup>th</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Há algum tempo eu fiz um script de uma tooltip (aquela caixa que abre ao passar o mouse sobre algum link). Infelizmente o código não é dos menores, o que deixaria muito grande o post e sua explicação.</p>

<p>Mas não está difícil de entender. Qualquer dúvida é só deixar um comentário que eu comento logo abaixo explicando.</p>

<p>O seu funcionamento é bem simples. No HTML é adicionado uma <strong>div</strong> com <strong>position absolute</strong> com <strong>display</strong> igual a <strong>none</strong>. Com o <strong>document.onmousemove </strong>a posição do mouse é guardada em uma variável então ao passar o mouse sobre qualquer link o <strong>display</strong> da <strong>div</strong> (tooltip) muda para block e sua posição (x,y) é setada pela do mouse.</p>

<p>Para ver o <a href="http://dev.rogeriolino.com/exemplos/javascript/tooltip/index.html">exemplo clique aqui</a>.</p>

<p><em>obs: o código (javascript) está junto com o HTML e o CSS.</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/02/23/flash-resume-texto-substring-e-indexof/">Flash: Resume Texto (Substring E indexOf)</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-02-23T20:51:51-02:00" pubdate data-updated="true">Feb 23<sup>rd</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Esses dias no<a href="http://www.flashmasters.net/forum"> Forum FlashMasters</a> um amigo meu deixou a seguinte dúvida:</p>

<p>Ele queria saber como fazer uma função para resumir um texto (uma String) por palavras. E não por caracteres. O que poderia ser feito apenas usando uma função <strong>substring()</strong> do próprio Flash.</p>

<p>Então fiz uma bem simples depois dei uma implementada nela (utilizando prototype) e estou postando aqui porque acho que poderá ser útil:</p>

<pre><code>String.prototype.resume = function(q) {
    var aux:String = "";
    for (var i = 0; i &lt; q; i++) {
        aux += this.substring(0, this.indexOf(" ")) + " ";
        this = this.substring(this.indexOf(" ") + 1);
    }
    return (aux += "...");
}
</code></pre>

<p>Na função é passado por parâmetro a quantidade de espaços (palavras) no qual o texto será resumido.</p>

<blockquote>**substring()** : Retorna um pedaço da **String**. Método sobrecarregado você pode passar dois ou um parâmetro (**Integer**). Passando dois o primeiro é o ponto inicial e o segundo final. Com um parâmetro ela retorna da posição escolhida em diante.

**indexOf() :** Retorna a posição (**Integer**) no texto (**String**)  da **Char/String** passado como parâmetro, ou -1 quando não achar.</blockquote>


<p>E para utilizar:</p>

<pre><code>var texto = "Putz, o carnaval acabou comigo.";
trace(texto.resume(3)); // "Putz, o carnaval ..."
</code></pre>

<p><strong>Mais sobre essas funções e outras:</strong></p>

<p><a href="http://livedocs.adobe.com/flash/8/main/wwhelp/wwhimpl/js/html/wwhelp.htm?href=Part4_ASLR2.html">Livedocs.Adobe.com &ndash; Flash 8</a></p>

<p><strong>[update date=&ldquo;24/02/2007&rdquo; ] </strong></p>

<p>Adicionei condições para ver se o texto não é uma única palavra ou a quantidade de palavras no texto é menor do que a quantidade que quer resumir.</p>

<pre><code>String.prototype.resume = function(q) {
    var aux:String = "";
    var menor:Boolean = (this.indexOf(" ") == -1) ? false : true;
    for (var i= 0; i &lt; q; i++) {
        if (!menor) {
            return this;
        } else if (this.indexOf(" ") != -1) {
            aux += this.substring(0, this.indexOf(" ")) + " ";
            this = this.substring(this.indexOf(" ") + 1);
        } else {
            return aux + this;
        }
    }
    return aux + "...";
}
</code></pre>

<p><strong> [/update]</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2007/02/04/flash-banner-flutuante/">Flash E CSS: Banner Flutuante</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2007-02-04T18:45:42-02:00" pubdate data-updated="true">Feb 4<sup>th</sup>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Muitos sites, portais, adotaram o banner flutuante, aquele no qual ao você passar o mouse por cima ele &ldquo;cresce&rdquo; pela página e mostra os detalhes da propaganda, promoções, etc.</p>

<p>A idéia então consiste em posicionar o filme por cima dos outros elementos e ele tem que ter o fundo transparente para não &ldquo;tampar&rdquo; o  conteúdo.</p>

<p>Então chegamos a <strong>conclusão</strong> que é só deixar o filme com o fundo <strong>transparente</strong> e colocá-lo numa <strong>div</strong> com <strong>position absolute</strong>? Certo.</p>

<p>Primeiramente vamos ao SWF, no Flash crie um novo documento. Nesse exemplo eu criei um de tamanho 468x280.</p>

<p>No primeiro frame coloque a action <strong>stop()</strong> para o filme não começar sozinho.</p>

<p>Desenhei um retângulo que cobre todo o palco na horizontal e com altura de 60 pixels. Dupliquei ele (copia e cola) e apertei o F8 para transformá-lo em um MovieClip. Ele vai ser o nosso botão para quando passar o mouse dar o p<strong>lay()</strong> no filme.</p>

<p>Instanciei de <strong>btn</strong> e apliquei o alpha para 0%, para deixar ele transparente. E adicionei no primeiro frame a seguinte action:</p>

<pre><code>btn.onRollOver = function() {
    _root.gotoAndPlay(2);
}
</code></pre>

<p>Com essa action definimos que ao <strong>passar o mouse sobre</strong> o botão (<strong>btn</strong>) o filme irá para seguir a partir do segundo frame.</p>

<p>E no frame 2 em diante fiz uma animação simple para dar impressão do fundo estar crescendo para baixo. No último frame da animação também adicionei a action <strong>stop();</strong> para o filme não voltar para o primeiro frame.</p>

<p>Também temos que colocar uma action para ao tirar o mouse (rolar fora) do botão a animação ir e parar no primeiro frame. E também uma para quando clicar. Essa action pode ser colocada no primeiro frame também.</p>

<pre><code>btn.onRollOut = function() {
    _root.gotoAndStop(1);
}

btn.onRelease = function() {
    getURL("http://rogeriolino.com/", "_blank");
}
</code></pre>

<p>Na primeira faz com que ao tirar o mouse de cima do botão volte para o primeiro frame mas não continua o filme (stop). Na segunda tem a função <strong>getURL() </strong>que funciona como a tag <a> no html, seus parâmetros são: página/endereço e alvo/target (<em><em>blank = nova página / </em>self = mesma página / </em>parent = pai do frame_).</p>

<p>Com a nossa animação pronta vamos ao HTML:</p>

<p>Vamos colocar o SWF dentro de uma <strong>div</strong> chamada<strong> banner</strong>:</p>

<pre><code>&lt;div id="banner"&gt;
    &lt;object type="application/x-shockwave-flash" data="banner.swf" width="480" height="280"&gt;
    &lt;param name="movie" value="banner.swf" /&gt;
    &lt;param name="allowScriptAcess" value="sameDomain" /&gt;
    &lt;param name="wmode" value="transparent" /&gt;
    &lt;param name="quality" value="best" /&gt;
&lt;/object&gt;
&lt;/div&gt;
</code></pre>

<p>E o nosso CSS:</p>

<pre><code>#banner {
    margin-left: 250px;
    _margin-left: 10px;
    padding: 20px;
    position: absolute;
}
</code></pre>

<p>O <strong>hack</strong> na margin é por causa do <strong>IE</strong>.</p>

<p>E pronto, já podemos ver nossa <a href="http://dev.rogeriolino.com/exemplos/flash/banner_flutuante/index.html">propaganda flutuante funcionando</a>. <a href="http://dev.rogeriolino.com/exemplos/flash/banner_flutuante/banner_flutuante.rar">Download do exemplo</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="8">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="6">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/06/09/php-jsonserializable/">PHP: JsonSerializable</a>
      </li>
    
      <li class="post">
        <a href="/2014/05/12/session-keep-alive/">Session Keep Alive</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/29/stack-overflow-em-portugues/">Stack Overflow em Português</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/10/simple-javascript-support-detection/">Simple javascript support detection</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/08/freezeheader-jquery-plugin/">FreezeHeader jQuery plugin</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/rogeriolino">@rogeriolino</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rogeriolino',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Rogério Lino <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, customized with <a href="https://github.com/mjhea0/whiterspace">whiterspace</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rogeriolino';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
