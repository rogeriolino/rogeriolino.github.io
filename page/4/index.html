
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Rogério Lino</title>
  <meta name="author" content="Rogério Lino">

  
  <meta name="description" content="Todo mundo que programa em PHP sente falta de uma boa alternativa para separar o código PHP do visual (HTML). Nessas horas vale a pena estudar &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://rogeriolino.com/page/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Rogério Lino" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12652599-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner">
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:rogeriolino.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/09/09/php-template-engines/">PHP: Template Engines</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-09-09T18:22:29-03:00" pubdate data-updated="true">Sep 9<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Todo mundo que programa em PHP sente falta de uma boa alternativa para separar o código PHP do visual (HTML). Nessas horas vale a pena estudar algumas template engines para PHP disponíveis para saber qual que melhor se adapta à suas necessidades e projeto. Alguns frameworks MVC possuem sua própria engine, outros tentam.</p>

<p><a href="http://www.smarty.net/">Smarty</a></p>

<p>O mais famoso e usado como inspiração por muitos outros projetos. Robusto (possuindo blocos condicionais/loops e várias funções próprias) e rápido (&ldquo;compilando&rdquo; suas páginas para arquivos PHP).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;ul&gt;</span>
</span><span class='line'>{foreach from=$myArray item=foo}
</span><span class='line'>    <span class="nt">&lt;li&gt;</span>{$foo}<span class="nt">&lt;/li&gt;</span>
</span><span class='line'>{/foreach}
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$smarty</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Smarty</span><span class="p">;</span>
</span><span class='line'><span class="nv">$arr</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1001</span><span class="p">,</span> <span class="mi">1002</span><span class="p">);</span>
</span><span class='line'><span class="nv">$smarty</span><span class="o">-&gt;</span><span class="na">assign</span> <span class="p">(</span><span class="s1">&#39;myArray&#39;</span><span class="p">,</span> <span class="nv">$arr</span><span class="p">);</span>
</span><span class='line'><span class="nv">$smarty</span><span class="o">-&gt;</span><span class="na">display</span> <span class="p">(</span><span class="s1">&#39;HelloWorld.tpl&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://vlib.clausvb.de/vlibtemplate.php">vlibtemplate</a></p>

<p>Com esta engine saímos de um problema e entramos em outro, é necessário aprender (lembrar) algumas palavras reservadas para sinalizar variáveis, além do uso dos limitadores das expressões.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>    <span class="nt">&lt;head&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>{tmpl_var name=&#39;title_text&#39;}<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">&quot;content-type&quot;</span> <span class="na">content=</span><span class="s">&quot;text/html; charset=iso-8859-1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;body&gt;</span>
</span><span class='line'>        <span class="nt">&lt;p&gt;</span>{tmpl_var name=&#39;body_text&#39;}<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$tmpl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">vlibTemplate</span><span class="p">(</span><span class="s1">&#39;tmpl/basic.htm&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$tmpl</span><span class="o">-&gt;</span><span class="na">setvar</span><span class="p">(</span><span class="s1">&#39;title_text&#39;</span><span class="p">,</span> <span class="s1">&#39;TITLE: This is the vLIB basic example ...&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$tmpl</span><span class="o">-&gt;</span><span class="na">setvar</span><span class="p">(</span><span class="s1">&#39;body_text&#39;</span><span class="p">,</span> <span class="s1">&#39;BODY: This is the message set using setvar()&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$tmpl</span><span class="o">-&gt;</span><span class="na">pparse</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p><a href="http://www.feverxl.org/template/">FXL Template</a></p>

<p>Muito pouco usual, o FXL faz uso dos blocos de comentário HTML para definir os loops. Outros semelhantes e nada melhores são: <a href="http://quickskin.worxware.com/">QuickSkin</a> e <a href="http://xtemplate.sourceforge.net/">XTemplate</a>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'> <span class="nt">&lt;table&gt;</span>
</span><span class='line'>     <span class="c">&lt;!-- START row --&gt;</span>
</span><span class='line'>         <span class="nt">&lt;tr&gt;</span>
</span><span class='line'>             <span class="c">&lt;!-- START cell --&gt;</span>
</span><span class='line'>             <span class="nt">&lt;td</span> <span class="nt">&gt;</span>{td_value} <span class="nt">&lt;/td&gt;</span>
</span><span class='line'>             <span class="c">&lt;!-- END cell --&gt;</span>
</span><span class='line'>         <span class="nt">&lt;/tr&gt;</span>
</span><span class='line'>     <span class="c">&lt;!-- END row --&gt;</span>
</span><span class='line'> <span class="nt">&lt;/table&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$fxlt</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">fxl_template</span><span class="p">(</span><span class="s1">&#39;example.tpl&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$fxlt_row</span> <span class="o">=</span> <span class="nv">$fxlt</span><span class="o">-&gt;</span><span class="na">get_block</span><span class="p">(</span><span class="s1">&#39;row&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$fxlt_cell</span> <span class="o">=</span> <span class="nv">$fxlt_row</span><span class="o">-&gt;</span><span class="na">get_block</span><span class="p">(</span><span class="s1">&#39;cell&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="nv">$tr</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$tr</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">;</span> <span class="nv">$tr</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="nv">$td</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$td</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">;</span> <span class="nv">$td</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$fxlt_cell</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;td_value&#39;</span><span class="p">,</span> <span class="nv">$tr</span><span class="o">.</span><span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="nv">$td</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$fxlt_row</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;cell&#39;</span><span class="p">,</span> <span class="nv">$fxlt_cell</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$fxlt_cell</span><span class="o">-&gt;</span><span class="na">clear</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nv">$fxlt</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;row&#39;</span><span class="p">,</span> <span class="nv">$fxlt_row</span><span class="p">);</span>
</span><span class='line'>    <span class="nv">$fxlt_row</span><span class="o">-&gt;</span><span class="na">clear</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nv">$fxlt</span><span class="o">-&gt;</span><span class="na">display</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://www.greaterscope.net/projects/Vemplator">Vemplator</a></p>

<p>Mais do mesmo, mas com alterações de sintaxe.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;h1&gt;</span>{if:logged} Welcome {username} {else:} User not logged {end:} <span class="nt">&lt;/h1&gt;</span>
</span><span class='line'><span class="nt">&lt;ul&gt;</span>
</span><span class='line'>    {foreach:rows,row}
</span><span class='line'>        <span class="nt">&lt;li&gt;</span>
</span><span class='line'>        {row[&#39;name&#39;]}
</span><span class='line'>        <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>    {end:}
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$t</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">vemplator</span><span class="p">();</span>
</span><span class='line'><span class="c1">// if/else</span>
</span><span class='line'><span class="nv">$t</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;logged&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'><span class="nv">$t</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;Rogerio&#39;</span><span class="p">);</span>
</span><span class='line'><span class="c1">// loop</span>
</span><span class='line'><span class="nv">$items</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Laptop&#39;</span><span class="p">),</span>
</span><span class='line'>  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Memory Stick&#39;</span><span class="p">)</span>
</span><span class='line'><span class="p">);</span>
</span><span class='line'><span class="nv">$t</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;rows&#39;</span><span class="p">,</span> <span class="nv">$rows</span><span class="p">);</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$t</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">(</span><span class="s1">&#39;example.template.html&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p><a href="http://www.tinybutstrong.com/">TinyButStrong</a></p>

<p>Uma alternativa ao estilo Smarty de muitos, porém é mais confuso e segue um padrão de nomenclatura bem particular.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;table&gt;</span>
</span><span class='line'>    <span class="nt">&lt;tr&gt;&lt;td&gt;</span>[blk.val;block=tr]<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
</span><span class='line'><span class="nt">&lt;/table&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$TBS</span> <span class="o">=&amp;</span> <span class="k">new</span> <span class="nx">clsTinyButStrong</span> <span class="p">;</span>
</span><span class='line'><span class="nv">$TBS</span><span class="o">-&gt;</span><span class="na">LoadTemplate</span><span class="p">(</span><span class="s1">&#39;template.htm&#39;</span><span class="p">)</span> <span class="p">;</span>
</span><span class='line'><span class="nv">$list</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">,</span><span class="s1">&#39;Y&#39;</span><span class="p">,</span><span class="s1">&#39;Z&#39;</span><span class="p">)</span> <span class="p">;</span>
</span><span class='line'><span class="nv">$TBS</span><span class="o">-&gt;</span><span class="na">MergeBlock</span><span class="p">(</span><span class="s1">&#39;blk&#39;</span><span class="p">,</span><span class="nv">$list</span><span class="p">)</span> <span class="p">;</span>
</span><span class='line'><span class="nv">$TBS</span><span class="o">-&gt;</span><span class="na">Show</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://dwoo.org/">Dwoo</a></p>

<p>Possui como diferencial um <a href="http://wiki.dwoo.org/index.php/TemplateInheritance">Template Inheritance</a>, o que facilita muito a vida na construção de templates.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>    <span class="nt">&lt;head&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>{block &quot;title&quot;}My site name{/block} <span class="nt">&lt;/title&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;body&gt;</span>
</span><span class='line'>        <span class="nt">&lt;h1&gt;</span>{block &quot;page-title&quot;}Default page title{/block} <span class="nt">&lt;/h1&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        {block &quot;content&quot;}
</span><span class='line'>            Welcome to my amazing homepage
</span><span class='line'>        {/block}
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>{extends &quot;base.html&quot;}
</span><span class='line'>
</span><span class='line'>{block &quot;title&quot;}
</span><span class='line'>    Gallery
</span><span class='line'>{/block}
</span><span class='line'>
</span><span class='line'>{foreach $images img}
</span><span class='line'>    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;{$img.url}&quot;</span> <span class="na">alt=</span><span class="s">&quot;{$img.description}&quot;</span><span class="nt">&gt;&lt;/img&gt;</span>
</span><span class='line'>{/foreach}
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$dwoo</span> <span class="o">=</span> <span class="nx">Dwoo</span><span class="p">();</span>
</span><span class='line'><span class="nv">$images</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;img1.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Ferrari&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;img2.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;BMW&#39;</span><span class="p">)</span>
</span><span class='line'><span class="p">);</span>
</span><span class='line'><span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'><span class="nv">$params</span><span class="p">[</span><span class="s1">&#39;images&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$images</span><span class="p">;</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$dwoo</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">&quot;gallery.tpl&quot;</span><span class="p">,</span> <span class="nv">$params</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p><a href="http://www.h2o-template.org/">h2o</a></p>

<p>Baseado no Smarty, <a href="http://www.djangoproject.com/">Django Templates</a> e <a href="http://jinja.pocoo.org/">Jinja</a> (os dois últimos para Python).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>    <span class="nt">&lt;head&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>PHP: Template Engines<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;body&gt;</span>
</span><span class='line'>        Todo mundo que programa em PHP sente falta de uma boa alternativa para separar o código PHP do visual (HTML). Nessas horas vale a pena estudar algumas template engines para PHP disponíveis para saber qual que melhor se adapta à suas necessidades e projeto. Alguns frameworks MVC possuem sua própria engine, outros tentam.

[Smarty](http://www.smarty.net/)

O mais famoso e usado como inspiração por muitos outros projetos. Robusto (possuindo blocos condicionais/loops e várias funções próprias) e rápido ("compilando" suas páginas para arquivos PHP).


    
``` html
    <ul>
    {foreach from=$myArray item=foo}
        <li>{$foo}</li>
    {/foreach}
    </ul>
```

    
``` php
$smarty = new Smarty;
$arr = array(1000, 1001, 1002);
$smarty->assign ('myArray', $arr);
$smarty->display ('HelloWorld.tpl');
```


[vlibtemplate](http://vlib.clausvb.de/vlibtemplate.php)

Com esta engine saímos de um problema e entramos em outro, é necessário aprender (lembrar) algumas palavras reservadas para sinalizar variáveis, além do uso dos limitadores das expressões.


    
``` html
<html>
    <head>
        <title>{tmpl_var name='title_text'}</title>
        <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    </head>
    <body>
        <p>{tmpl_var name='body_text'}</p>
    </body>
</html>
```




``` php
$tmpl = new vlibTemplate('tmpl/basic.htm');
$tmpl->setvar('title_text', 'TITLE: This is the vLIB basic example ...');
$tmpl->setvar('body_text', 'BODY: This is the message set using setvar()');
$tmpl->pparse();
``` 


 
[FXL Template](http://www.feverxl.org/template/)

Muito pouco usual, o FXL faz uso dos blocos de comentário HTML para definir os loops. Outros semelhantes e nada melhores são: [QuickSkin](http://quickskin.worxware.com/) e [XTemplate](http://xtemplate.sourceforge.net/).


``` html    
 <table>
     <!-- START row -->
         <tr>
             <!-- START cell --> 
             <td >{td_value} </td> 
             <!-- END cell -->
         </tr>
     <!-- END row -->
 </table>
``` 


``` php
$fxlt = new fxl_template('example.tpl');
$fxlt_row = $fxlt->get_block('row');
$fxlt_cell = $fxlt_row->get_block('cell');
for ($tr = 1; $tr <= 3; $tr++) {
    for ($td = 1; $td <= 3; $td++) {
        $fxlt_cell->assign('td_value', $tr.':'.$td);
        $fxlt_row->assign('cell', $fxlt_cell);
        $fxlt_cell->clear();
    }
    $fxlt->assign('row', $fxlt_row);
    $fxlt_row->clear();
}
$fxlt->display();
```



[Vemplator](http://www.greaterscope.net/projects/Vemplator)

Mais do mesmo, mas com alterações de sintaxe.

``` html    
    <h1>{if:logged} Welcome {username} {else:} User not logged {end:} </h1>
    <ul>
        {foreach:rows,row}
            <li>
            {row['name']} 
            </li>
        {end:} 
    </ul>
```


``` php
$t = new vemplator();
// if/else
$t->assign('logged', true);
$t->assign('username', 'Rogerio');
// loop
$items = array(
    array('name' => 'Laptop'),
    array('name' => 'Memory Stick')
);
$t->assign('rows', $rows);
echo $t->output('example.template.html');
``` 



[TinyButStrong](http://www.tinybutstrong.com/)

Uma alternativa ao estilo Smarty de muitos, porém é mais confuso e segue um padrão de nomenclatura bem particular.


``` html    
    <table>
        <tr><td>[blk.val;block=tr]</td></tr>
    </table>
```


``` php 
$TBS =& new clsTinyButStrong ;
$TBS->LoadTemplate('template.htm') ;
$list = array('X','Y','Z') ;
$TBS->MergeBlock('blk',$list) ;
$TBS->Show();
```



[Dwoo](http://dwoo.org/)

Possui como diferencial um [Template Inheritance](http://wiki.dwoo.org/index.php/TemplateInheritance), o que facilita muito a vida na construção de templates.


    
``` html
<html>
    <head>
        <title>{block "title"}My site name{/block} </title>
    </head>
    <body>
        <h1>{block "page-title"}Default page title{/block} </h1>
        <div id="content">
        {block "content"}
            Welcome to my amazing homepage
        {/block}
        </div>
    </body>
</html>
```
    



``` html 
{extends "base.html"}

{block "title"}
    Gallery
{/block}

{foreach $images img}
    <img src="{$img.url}" alt="{$img.description}"></img>
{/foreach}
```


``` php    
$dwoo = Dwoo();
$images = array(
    array('url' => 'img1.jpg', 'description' => 'Ferrari'),
    array('url' => 'img2.jpg', 'description' => 'BMW')
);
$params = array();
$params['images'] = $images;
echo $dwoo->get("gallery.tpl", $params);
``` 



[h2o](http://www.h2o-template.org/)

Baseado no Smarty, [Django Templates](http://www.djangoproject.com/) e [Jinja](http://jinja.pocoo.org/) (os dois últimos para Python).


    
``` html    
<html>
    <head>
        <title>{{ page.title }}</title>
    </head>
    <body>
        {{ page.content }}
    </body>
</html>
```


``` php 
$h2o = new h2o('index.html');
$page = array(
  'title' => 'title of a page',
  'body' => 'Hello world'
);
echo $h2o->render(compact('page'));
```


[PEAR Flexy](http://pear.php.net/package/HTML_Template_Flexy/)

Entre os projetos disponíveis no PEAR ([PHPLIB](http://pear.php.net/package/HTML_Template_PHPLIB/), [Sigma](http://pear.php.net/package/HTML_Template_Sigma/) e [IT](http://pear.php.net/package/HTML_Template_IT/)) esse é o melhor. 

Tem como desvantagem o fato de ter que definir as propriedades da sua classe como public (pelo menos dá para trabalhar com classes), linhas de includes e configurações exageradas (não presentes no exemplo abaixo), e algumas automações que precisam ser bem explicadas senão o programador (usuário) fica doido. Além de ter que codificar muito mais linhas se compararmos com os demais exemplos. 


    
``` html
<html>
    <head>
        <title>{title}</title>
    </head>
    <body>
        <!-- o valor do input será adicionado em $element['input'] -->
        Input Box: <input name="input" />
        <ul>
            <!-- isso é o mesmo que foreach ($numbers as $number => $string) -->
            <li flexy:foreach="numbers,number,string" >
                <a href="mypage.html?id={number}">{string}</a>
            </li>
        </ul>
        <!-- chamando o método da classe -->
        {someMethod()}
    </body>
</html>
```

    
``` php
class controller_test  {

    var $title;
    var $numbers = array();
    var $elements = array();

    function controller_test() {
        $this->start();
        $this->output();
    }

    function start() {
        $this->title = "Hello World";
        // create an HTML Element for the form element.
        $this->elements['input'] = new HTML_Template_Flexy_Element;
        $this->elements['input']->setValue('Hello');

        for ($i = 1;$i< 5;$i++) {
            $this->numbers[$i] = "Number $i";
        }
    }

    function output() {
        $output = new HTML_Template_Flexy();
        $output->compile("home.html");
        $output->outputObject($this,$this->elements);
    }

    function someMethod() {
        return "Hello From A Method";
    }

}
new controller_test();
```


_Todos os exemplos a cima foram retirados dos próprios sites dos projetos, sofrendo alterações afim de minimizar as linhas e focar em suas caracterísicas, vantagens e desvantagens._

Em meados do ano passado comecei escrever uma engine baseada no [JSF](https://javaserverfaces.dev.java.net/)+[Facelets](https://facelets.dev.java.net/) (Java) e nesse mês voltei a trabalhar nela e espero que no próximo ano (2011) já tenha uma versão liberada (farei um post sobre).

</span><span class='line'>    <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$h2o</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">h2o</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$page</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>  <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;title of a page&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="s1">&#39;body&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Hello world&#39;</span>
</span><span class='line'><span class="p">);</span>
</span><span class='line'><span class="k">echo</span> <span class="nv">$h2o</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://pear.php.net/package/HTML_Template_Flexy/">PEAR Flexy</a></p>

<p>Entre os projetos disponíveis no PEAR (<a href="http://pear.php.net/package/HTML_Template_PHPLIB/">PHPLIB</a>, <a href="http://pear.php.net/package/HTML_Template_Sigma/">Sigma</a> e <a href="http://pear.php.net/package/HTML_Template_IT/">IT</a>) esse é o melhor.</p>

<p>Tem como desvantagem o fato de ter que definir as propriedades da sua classe como public (pelo menos dá para trabalhar com classes), linhas de includes e configurações exageradas (não presentes no exemplo abaixo), e algumas automações que precisam ser bem explicadas senão o programador (usuário) fica doido. Além de ter que codificar muito mais linhas se compararmos com os demais exemplos.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>    <span class="nt">&lt;head&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>{title}<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;body&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- o valor do input será adicionado em $element[&#39;input&#39;] --&gt;</span>
</span><span class='line'>        Input Box: <span class="nt">&lt;input</span> <span class="na">name=</span><span class="s">&quot;input&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;ul&gt;</span>
</span><span class='line'>            <span class="c">&lt;!-- isso é o mesmo que foreach ($numbers as $number =&gt; $string) --&gt;</span>
</span><span class='line'>            <span class="nt">&lt;li</span> <span class="na">flexy:foreach=</span><span class="s">&quot;numbers,number,string&quot;</span> <span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;mypage.html?id={number}&quot;</span><span class="nt">&gt;</span>{string}<span class="nt">&lt;/a&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/ul&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- chamando o método da classe --&gt;</span>
</span><span class='line'>        {someMethod()}
</span><span class='line'>    <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">controller_test</span>  <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">var</span> <span class="nv">$title</span><span class="p">;</span>
</span><span class='line'>    <span class="k">var</span> <span class="nv">$numbers</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>    <span class="k">var</span> <span class="nv">$elements</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">function</span> <span class="nf">controller_test</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">output</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">function</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;Hello World&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="c1">// create an HTML Element for the form element.</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">elements</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HTML_Template_Flexy_Element</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">elements</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setValue</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="nv">$i</span><span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span><span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">numbers</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Number </span><span class="si">$i</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">function</span> <span class="nf">output</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$output</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HTML_Template_Flexy</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$output</span><span class="o">-&gt;</span><span class="na">compile</span><span class="p">(</span><span class="s2">&quot;home.html&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$output</span><span class="o">-&gt;</span><span class="na">outputObject</span><span class="p">(</span><span class="nv">$this</span><span class="p">,</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">elements</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">function</span> <span class="nf">someMethod</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="s2">&quot;Hello From A Method&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">new</span> <span class="nx">controller_test</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>Todos os exemplos a cima foram retirados dos próprios sites dos projetos, sofrendo alterações afim de minimizar as linhas e focar em suas caracterísicas, vantagens e desvantagens.</em></p>

<p>Em meados do ano passado comecei escrever uma engine baseada no <a href="https://javaserverfaces.dev.java.net/">JSF</a>+<a href="https://facelets.dev.java.net/">Facelets</a> (Java) e nesse mês voltei a trabalhar nela e espero que no próximo ano (2011) já tenha uma versão liberada (farei um post sobre).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/06/17/css-footer-always-in-bottom/">CSS: Footer Always in Bottom</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-06-17T11:51:50-03:00" pubdate data-updated="true">Jun 17<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>É muito comum vermos pessoas procurando saber como deixar um elemento HTML sempre no final da página, mas caso a página seja redimensionada criando rolagem, esse elemento continue no final dela. Ou seja, não apenas colocar o elemento com position fixed.</p>

<p>Para tal exemplo vamos precisar de um HTML simples:</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="page"&gt;
        &lt;div id="content"&gt;
            &lt;h1&gt;Footer always in bottom&lt;/h1&gt;
            &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla aliquet imperdiet justo, quis congue velit egestas quis. Suspendisse ac tellus vitae est ultrices imperdiet eget at dolor. Donec sit amet viverra arcu. Aenean pulvinar vehicula justo, tincidunt congue nisi pharetra eu. Suspendisse potenti. Sed libero quam, lacinia at facilisis eu, egestas sodales dolor. Duis gravida, diam interdum cursus dictum, ligula libero pellentesque lacus, vitae viverra nulla metus id erat. Suspendisse fermentum aliquam hendrerit. Sed vulputate massa ut felis sagittis molestie. Suspendisse facilisis condimentum diam, a hendrerit urna venenatis sit amet. Cras orci diam, aliquam quis fringilla ac, euismod vel orci. Quisque ac pharetra nisi. Quisque et orci ligula. Praesent lacus felis, bibendum ac varius ac, eleifend in nulla. Aliquam sodales porttitor iaculis. Aliquam pretium risus ac neque egestas convallis. Sed dignissim massa ut odio vestibulum gravida ut vel nulla.&lt;/p&gt;
            &lt;p&gt;Sed non lacus in nibh lobortis imperdiet. Aliquam auctor tellus quis elit adipiscing consequat. Ut in elit at orci dapibus gravida interdum eget sapien. Sed lobortis, massa nec aliquet aliquet, nulla mi tincidunt quam, id iaculis turpis nibh interdum leo. Curabitur in lorem et risus ultrices pharetra. Mauris adipiscing eros vitae diam sodales et rutrum velit consequat. Fusce adipiscing congue ultrices. Nullam fermentum ullamcorper urna a malesuada. Sed sit amet congue tortor. Nulla accumsan blandit diam sed feugiat. Morbi lobortis fermentum metus, ac pulvinar dui commodo ut.&lt;/p&gt;
        &lt;/div&gt;
        &lt;div id="footer"&gt;
            &lt;p&gt;footer here&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>E o CSS abaixo:</p>

<pre><code>* {
    padding: 0px;
    margin: 0px;
}

html, body {
    height: 100%;
}

#page {
    min-height: 100%;
    position: relative;
}

#footer {
    width: 100%;
    bottom: 0;
    position: absolute;
}
</code></pre>

<p>O <a href="http://dev.rogeriolino.com/exemplos/css/footer_bottom/index.html">exemplo funcionando você confere aqui</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/05/06/javascript-game-engine-for-html5-canvas/">Javascript Game Engine for HTML5 Canvas</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-05-06T16:04:35-03:00" pubdate data-updated="true">May 6<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Comecei escrever um pequeno projeto para facilitar a criação de jogos em Javascript utilizando HTML5 Canvas para isso. Baseado em <a href="http://en.wikipedia.org/wiki/Scene_graph">scenegraph</a> podendo criar nós dependentes, relativos ao nó pai. Por enquanto a estrutura da engine é composta por:</p>

<blockquote>
**Canvas:** para encapsular a tag canvas, pegando automaticamente o context e fornecendo algumas funções a mais.

**Game:** o jogo em sí, possui uma ou muitas cenas (Scene). Contém o loop principal para atualizações do canvas. Necessita de uma instância do Canvas.

**Scene:** deve ser estendida para criar cenas customizadas, deve implementar o método update(interval).

**CanvasNode:** um nó do grafo, possui as coordenadas e ângulo de rotação do elemento no canvas.

**CanvasNodeGroup:** um grupo de nós. Estende CanvasNode.

**Graphics:** um nó &#8220;printável&#8221;, quem for estendê-lo deve implementar o método draw(). Possui como subclasses: Rectangle, Triangle, Circle, Text, Image2d e Line.

**GraphicsGroup:** estende CanvasNodeGroup, possui um grupo de graphics. Scene é um GraphicsGroup.

</blockquote>


<p>Os próximos passos serão a implementação de TileMap, Scene Intro, Menu e botões. Agora é só aguardar até o próximo exemplo.</p>

<p><strong>[update 2010-05-06]</strong>
Added mouse and button support.
See example above.
<strong>[/update]</strong></p>

<p><strong>[update 2010-05-06]</strong>
Examples in <a href="http://mangame.rogeriolino.com/">http://mangame.rogeriolino.com/</a>
<strong>[/update]</strong></p>

<p><strong>[update 2011-11-11]</strong>
Source now available in <a href="https://github.com/rogeriolino/mangame">GitHub</a>!
<strong>[/update]</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/04/22/php-socket-class/">PHP: Socket Class</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-04-22T16:19:03-03:00" pubdate data-updated="true">Apr 22<sup>nd</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote>
**[UPDATE 16-05-2012]**
Criei um projeto no Github e também adicionei suporte ao Websocket.
[Clique aqui para ver o post novo](http://rogeriolino.com/2012/05/16/html5-websocket)
**[/UPDATE]**
</blockquote>


<p>Muitas linguagens oferecem suporte a <a href="http://en.wikipedia.org/wiki/Internet_socket">Sockets</a>, e com <a href="http://php.net/manual/en/book.sockets.php">PHP</a> não é diferente, porém a falta de orientação a objetos nas funções do PHP pode ser um inconveniente para algumas pessoas. E como eu me incluo entre essas pessoas, quando precisei utilizar sockets em PHP acabei criando um classe para englobar essas funções soltas e fornecer tratamento a erros.</p>

<pre><code>/**
 * Copyright 2010 http://rogeriolino.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * Socket
 *
 * @author rogeriolino
 */
class Socket {

    private $port     = 3000;
    private $address  = "localhost";
    private $blocking = true;

    private $buffer   = 2048;
    private $backlog  = 5;

    private $type     = SOCK_STREAM;
    private $family   = AF_INET;
    private $protocol = SOL_TCP;

    private $resource;

    /**
     * Socket constructor
     * @param  $resource
     */
    public function  __construct($resource = null) {
        if ($resource == null) {
            $this-&gt;resource = socket_create($this-&gt;family, $this-&gt;type, $this-&gt;protocol);
        } else {
            $this-&gt;resource = $resource;
        }
    }

    /**
     * Returns the socket port
     * @return int
     */
    public function getPort() {
        return $this-&gt;port;
    }

    /**
     * Define the socket port
     * @param int $port
     */
    public function setPort($port) {
        $this-&gt;port = $port;
    }

    /**
     *
     * @return string
     */
    public function getAddress() {
        return $this-&gt;address;
    }

    public function setAddress($address) {
        $this-&gt;address = $address;
    }

    /**
     * Returns if the socket is blocking mode
     * @return boolean
     */
    public function isBlocking() {
        return $this-&gt;blocking;
    }

    /**
     * Defines whether the socket is blocking or nonblocking mode
     * @param boolean $block
     */
    public function setBlocking($blocking) {
        $this-&gt;blocking = ($blocking == true);
        $this-&gt;updateBlockingMode();
    }

    /**
     * Returns the socket communication type
     * @return int
     */
    public function getType() {
        return $this-&gt;type;
    }

    /**
     * Define the socket communication type
     * @param int $type
     */
    public function setType($type) {
        if ($type == SOCK_STREAM || $type == SOCK_DGRAM || $type == SOCK_SEQPACKET || $type == SOCK_RAW || $type == SOCK_RDM) {
            $this-&gt;type = $type;
        } else {
            throw new SocketException("Invalid socket communication type");
        }
    }

    /**
     * Returns the socket protocol family
     * @return int
     */
    public function getFamily() {
        return $this-&gt;family;
    }

    /**
     * Define the socket protocol family
     * @param int $family
     */
    public function setFamily($family) {
        if ($family == AF_INET || $family == AF_INET6 || $family == AF_UNIX) {
            $this-&gt;family = $family;
        } else {
            throw new SocketException("Invalid socket protocol family");
        }
    }

    /**
     * Returns the socket protocol
     * @return int
     */
    public function getProtocol() {
        return $this-&gt;protocol;
    }

    /**
     * Define the socket protocol, must be compatible whit the protocol family
     * @param int $protocol
     */
    public function setProtocol($protocol) {
        if ($protocol == SOL_TCP || $protocol == SOL_UDP || $protocol == SOL_SOCKET) {
            $this-&gt;protocol = $protocol;
        } else {
            throw new SocketException("Invalid socket protocol");
        }
    }

    /**
     * Binds to a socket
     * @throws SocketException
     */
    public function bind() {
        if (socket_bind($this-&gt;resource, $this-&gt;address, $this-&gt;port) === false) {
            throw new SocketException("Socket bind failed: " . $this-&gt;error());
        }
    }

    /**
     * Listens for a connection on a socket
     * @throws SocketException
     */
    public function listen() {
        if (socket_listen($this-&gt;resource, $this-&gt;backlog) === false) {
            throw new SocketException("Socket listen failed: " . $this-&gt;error());
        }
    }

    /**
     * Accepts a connection
     * @throws SocketException
     * @return Socket
     */
    public function accept() {
        $sock = socket_accept($this-&gt;resource);
        if ($sock === false) {
            throw new SocketException("Socket accept failed: " . $this-&gt;error());
        }
        return new Socket($sock);
    }

    /**
     * Reads data from the connected socket
     * @return string
     */
    public function read() {
        $data = "";
        while (($m = socket_read($this-&gt;resource, $this-&gt;buffer)) != "") {
            $data .= $m;
        }
        return $data;
    }

    /**
     * Write the data to connected socket
     * @param string $message
     */
    public function write($data) {
        socket_write($this-&gt;resource, $data, strlen($data));
    }

    /**
     * Initiates a connection on a socket
     * @throws SocketException
     * @return boolean
     */
    public function connect() {
        try {
            return socket_connect($this-&gt;resource, $this-&gt;address, $this-&gt;port);
        } catch (SocketException $e) {
            return false;
        }
    }

    /**
     * Close the socket connection
     */
    public function close() {
        socket_close($this-&gt;resource);
    }

    private function updateBlockingMode() {
        if ($this-&gt;blocking) {
            socket_set_block($this-&gt;resource);
        } else {
            socket_set_nonblock($this-&gt;resource);
        }
    }

    private function error() {
        return socket_strerror(socket_last_error($this-&gt;resource));
    }

}
</code></pre>

<p>Classe para as exceções:</p>

<pre><code>/**
 * Copyright 2010 http://rogeriolino.com
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * SocketException
 *
 * @author rogeriolino
 */
class SocketException extends Exception {

    public function  __construct($message, $code = 0, $previous = null) {
        $this-&gt;message = $message;
        $this-&gt;code = $code;
        $this-&gt;message = $previous;
    }

}
</code></pre>

<p>Espero que seja de bom aproveito.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/04/08/twitter-resumo-2/">Twitter: Resumo #2</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-04-08T19:33:08-03:00" pubdate data-updated="true">Apr 8<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://twitter.com/rogeriolino"><img src="http://rogeriolino.com/uploads/2010/03/Twitter.gif" alt="Twitter" /></a></p>

<ul>
<li><p><a href="http://bit.ly/9e0f43">SVG Wow Demos</a></p></li>
<li><p><a href="http://bit.ly/9V8vNl">Code Bubbles: Rethinking the User Interface Paradigm of IDEs</a></p></li>
<li><p><a href="http://bit.ly/blEHlO">JSON visualization tool</a></p></li>
<li><p><a href="http://bit.ly/cQYvpx">Reloading Java Classes: HotSwap and JRebel &ndash; Behind the Scenes</a></p></li>
<li><p><a href="http://bit.ly/dqDWXN">Justiça volta a incluir Anatel como ré em processo que questiona banda larga</a></p></li>
<li><p><a href="http://bit.ly/9Vfaww">HTML5 Database</a></p></li>
<li><p><a href="http://bit.ly/aHcpYC">Valve Brings Hit Games, Steam Service to Mac</a></p></li>
<li><p><a href="http://bit.ly/dofBNt">Bespin Code in the Cloud</a></p></li>
<li><p><a href="http://bit.ly/9EM04F">Com novo roteador, Cisco promete turbinar internet do futuro</a></p></li>
<li><p><a href="http://bit.ly/akLBcU">Google Island e a banda larga ultrarrápida</a></p></li>
<li><p><a href="http://bit.ly/bS5o1k">The Reddit problem: Learning from mistakes</a></p></li>
<li><p><a href="http://bit.ly/czdLxj">NoSQL v. SQL is the worst holy war ever.</a></p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/04/01/flash-swfaddress-rewrite-seo/">Flash: SWFAddress + ReWrite = SEO</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-04-01T11:44:53-03:00" pubdate data-updated="true">Apr 1<sup>st</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.asual.com/swfaddress"><img src="http://rogeriolino.com/uploads/2010/03/asual-swfaddress.jpg" alt="" /></a></p>

<blockquote>[SWFAddress](http://www.asual.com/swfaddress) é uma pequena mas poderosa biblioteca que provê [deep linking](http://en.wikipedia.org/wiki/Deep_linking) para Flash e Ajax. É uma ferramenta de desenvolvimento, permitindo a criação de URLs unicas e virtuais que podem apontar para uma seção do site ou aplicação. SWFAddress habilita algumas de importantes capacidades que faltam hoje em dia nas tecnologias [RIA](http://pt.wikipedia.org/wiki/RIA), incluindo:

> 
> 
    
>   * Adicionar ao Favoritos de um navegador ou site social
> 
    
>   * Enviar links via email ou mensageiros instantâneos
> 
    
>   * Procurar por um conteúdo específico através dos sites de buscas
> 
    
>   * Utilizar o histórico do navegador e o botão de recarregar
> 

</blockquote>


<p>O <a href="http://www.adobe.com/br/products/flash/">Flash</a> está para o <a href="http://en.wikipedia.org/wiki/Search_engine_optimization">SEO</a> assim como o <a href="http://cinemaeafins.com/files/2008/11/batmancoringa.jpg">Coringa está para o Batman</a>. Mas nem tudo está perdido quando se trata de otimizar a indexação do site em SWF nos mecanismos de busca. Com SWFAddress você pode interagir com a página via javascript alterando a URL e o próprio conteúdo do filme, possibilidade do o uso dos botões voltar e avançar do browser, adicionar ao Favoritos e alterar a animação do seu filme de acordo com a URL que está sendo requisitada.</p>

<p>Caso sua página seja acessada através da URL **<a href="http://siteemflash.com/#contato**,">http://siteemflash.com/#contato**,</a> você poderá pular na timeline indo direto para o frame do contato. Para evitar o reload da página toda interação é feita através de âncoras html (#). E as alterações da URL utilizando âncoras são desprezadas pelos buscadores, uma vez que a âncora só serve para movimentar o foco na mesma página, logo o seu conteúdo permanece inalterado.</p>

<p>É aí que entra o <a href="http://httpd.apache.org/docs/1.3/mod/mod_rewrite.html">módulo ReWrite do Apache</a>, com o mod_rewrite podemos escrever condições para tratar as requisições, redirecionando-as ou não. Então voltando ao exemplo anterior, teríamos uma condição que quando for requisitada a página **<a href="http://siteemflash.com/contato**">http://siteemflash.com/contato**</a> (ou qualquer outra URL) redireciona para a página inicial (index) adicionando a âncora para contato (#contato) e imprime na página o conteúdo referente à mesma. Esse conteúdo impresso não será visível, apenas para indexação. O <a href="http://pt.wikipedia.org/wiki/Sitemap">sitemap</a> ou a estrutura básica do site, também deve estar contido no bloco de código html invisível, juntamente com todas outras informações relevantes.</p>

<p>Resumindo, você acaba tendo um trabalho dobrado ao desenvolver o site, mas evita transtornos de indexação. É muito útil para quem não abre mão do site feito com o uso da ferramenta da Adobe.</p>

<p>No próprio site da Asual tem um <a href="http://www.asual.com/swfaddress/samples/seo/">exemplo de uso do SWFAddress para SEO</a> (o exemplo pode ser baixado pelo site). Abaixo segue alguns sites que fizeram uso da biblioteca, no qual o primeiro eu participei do desenvolvimento:</p>

<ul>
<li><p><a href="http://www.oticasparis.com.br/">Óticas Paris</a></p></li>
<li><p><a href="http://www.salinas-rio.com.br/inverno2010/">Salinas Rio -inverno2010</a></p></li>
<li><p><a href="http://www.umbro.com/">Umbro</a></p></li>
<li><p><a href="http://www.mis-architecture.co.uk/">Mis Architecture</a></p></li>
<li><p><a href="http://www.kraftfoods.com/foodandfamily">Kraftfoods &ndash; Food and Family</a></p></li>
<li><p><a href="http://www.bartleboglehegarty.com/">BBH</a></p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/03/26/php-annotations/">PHP: Annotations</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-03-26T10:21:12-03:00" pubdate data-updated="true">Mar 26<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>É indiscutível a agilidade e facilidade de configuração que as annotations provêm no <a href="http://java.sun.com/">Java</a>, e com o objetivo de trazer tal comodidade ao <a href="http://php.net">PHP</a> surgiu o projeto <a href="http://code.google.com/p/addendum/">Addendum</a> &ndash; escrito por <a href="http://jsmf.net/">Jan Suchal</a> &ndash; que permite via <a href="http://en.wikipedia.org/wiki/Reflection_(computer_science">Reflection</a>) acessar as annotations das classes.</p>

<p>As annotations devem ser escritas em blocos de comentários, uma vez que o <a href="http://thesmithfam.org/blog/2006/05/07/php-the-operator/">@</a> (caracter que inicia uma annotation) é um caractere reservado no PHP. Elas podem ser mono ou multi valoradas de acordo com os exemplos abaixo.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="c1">// Custom annotation</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Persistent</span> <span class="k">extends</span> <span class="nx">Annotation</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Custom annotation</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Table</span> <span class="k">extends</span> <span class="nx">Annotation</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Multi valued annotation</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Secured</span> <span class="k">extends</span> <span class="nx">Annotation</span> <span class="p">{</span>
</span><span class='line'>   <span class="k">public</span> <span class="nv">$role</span><span class="p">;</span>
</span><span class='line'>   <span class="k">public</span> <span class="nv">$level</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="sd">/** </span>
</span><span class='line'><span class="sd"> * @Persistent </span>
</span><span class='line'><span class="sd"> * @Table(&quot;people&quot;)</span>
</span><span class='line'><span class="sd"> * @Secured(role = &quot;admin&quot;, level = 2)</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
</span><span class='line'>   <span class="c1">// some code</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// getting the annotation by class name</span>
</span><span class='line'><span class="nv">$reflection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ReflectionAnnotatedClass</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// getting the annotation by instance</span>
</span><span class='line'><span class="nv">$person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</span><span class='line'><span class="nv">$reflection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ReflectionAnnotatedClass</span><span class="p">(</span><span class="nv">$person</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// true</span>
</span><span class='line'><span class="nv">$reflection</span><span class="o">-&gt;</span><span class="na">hasAnnotation</span><span class="p">(</span><span class="s1">&#39;Persistent&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// contains string &quot;people&quot;</span>
</span><span class='line'><span class="nv">$reflection</span><span class="o">-&gt;</span><span class="na">getAnnotation</span><span class="p">(</span><span class="s1">&#39;Table&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">value</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>E seguindo na mesma onda da <a href="http://java.sun.com/javaee/technologies/persistence.jsp">JPA</a>, a <a href="http://www.doctrine-project.org/blog/php-5-3-and-doctrine-2-0-teaser">versão 2.0 do projeto Doctrine</a> implementou também a mesma funcionalidade e agora possui suas próprias annotations facilitando a configuração das classes de persistência e seus relacionamentos.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @DoctrineEntity(tableName=&quot;cms_articles&quot;)</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">class</span> <span class="nc">CmsArticle</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="sd">/**</span>
</span><span class='line'><span class="sd">  * @DoctrineId</span>
</span><span class='line'><span class="sd">  * @DoctrineColumn(type=&quot;integer&quot;)</span>
</span><span class='line'><span class="sd">  * @DoctrineIdGenerator(&quot;auto&quot;)</span>
</span><span class='line'><span class="sd">  */</span>
</span><span class='line'>  <span class="k">public</span> <span class="nv">$id</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="sd">/**</span>
</span><span class='line'><span class="sd">  * @DoctrineColumn(type=&quot;varchar&quot;, length=255)</span>
</span><span class='line'><span class="sd">  */</span>
</span><span class='line'>  <span class="k">public</span> <span class="nv">$topic</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="sd">/**</span>
</span><span class='line'><span class="sd">  * @DoctrineColumn(type=&quot;varchar&quot;)</span>
</span><span class='line'><span class="sd">  */</span>
</span><span class='line'>  <span class="k">public</span> <span class="nv">$text</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="sd">/**</span>
</span><span class='line'><span class="sd">  * @DoctrineManyToOne(targetEntity=&quot;CmsUser&quot;, joinColumns={&quot;user_id&quot; = &quot;id&quot;})</span>
</span><span class='line'><span class="sd">  */</span>
</span><span class='line'>  <span class="k">public</span> <span class="nv">$user</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="sd">/**</span>
</span><span class='line'><span class="sd">  * @DoctrineOneToMany(targetEntity=&quot;CmsComment&quot;, mappedBy=&quot;article&quot;)</span>
</span><span class='line'><span class="sd">  */</span>
</span><span class='line'>  <span class="k">public</span> <span class="nv">$comments</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/03/18/sga-livre/">SGA Livre</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-03-18T09:51:13-03:00" pubdate data-updated="true">Mar 18<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em><strong>ATENÇÃO:</strong> Se você está pensando em utilizar um sistema para gerenciar a fila de atendimento da sua organização, conheça o <a href="http://www.novosga.org">Novo SGA</a>.</em></p>

<hr />

<p><img src="http://rogeriolino.com/uploads/2010/03/sga_logo.jpg" alt="" /></p>

<blockquote>**SGA LIVRE** significa Sistema de Gerenciamento do Atendimento, versão Livre. É desenvolvido pela DATAPREV, totalmente baseado em tecnologias de software livre e de código aberto.

Através do SGA é possível gerenciar filas e fluxo de atendimento em quaisquer tipos de empresas ou organizações que prestam serviço de atendimento presencial à pessoas.

O SGA oferece o controle de filas de atendimento através de emissão de senhas e chamada das mesmas através de painéis. As filas de atendimento podem conter um único serviço ou um grupo de serviços. Os painéis podem chamar um, vários ou todos os serviços. Uma unidade de atendimento pode ter vários painéis.

O SGA é mais do que um sistema de controle de filas. Ao gerenciar o fluxo de atendimento, o sistema apresenta uma série de recursos que auxiliam na gerência e administração das unidades de atendimento.

Fornece uma diversidade de informações gerenciais preciosas, através de relatórios, estatísticas e gráficos avançados sobre atendimentos de uma unidade, de um grupo de unidades ou de todas elas. É possível obter estatísticas e tempos médios de atendimento por atendente, por período e por unidade, entre outras. Pode-se obter dados detalhados ou agregados.

As informações gerenciais fornecidas pelo SGA possibilitam aos gestores planejar, acompanhar, monitorar, otimizar e agilizar o atendimento aos clientes.

fonte: [http://www.softwarepublico.gov.br/ver-comunidade?community_id=15719494](http://www.softwarepublico.gov.br/ver-comunidade?community_id=15719494)</blockquote>


<p>Não é novidade o lançamento da versão livre do SGA, porém é com muito orgulho que hoje vejo este software ganhando força no cenário nacional, e também por ter participado do seu desenvolvimento. O software foi desenvolvido em <a href="http://php.net">PHP</a> fornecendo uma camada para abstração do <a href="http://en.wikipedia.org/wiki/Relational_database_management_system">RDMS</a>, utilizando como interface de acesso o <a href="http://php.net/manual/en/book.pdo.php">PDO</a> (suporte padrão ao <a href="http://www.postgresql.org">PostgreSQL</a>). Tal contribuição foi desde definir a estrutura do sistema, passando por diagramação, HTML, CSS, até a programação PHP e Javascript.</p>

<p>[caption id=&ldquo;attachment_238&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;294&rdquo; caption=&ldquo;Tela de instalação do SGA&rdquo;]<a href="http://rogeriolino.com/uploads/2010/03/sga_instalacao.jpg"><img src="http://rogeriolino.com/uploads/2010/03/sga_instalacao-294x300.jpg" alt="" /></a>[/caption]</p>

<p>Dividido em módulos é fácil customizar a ferramenta para atender as  necessidades específicas de qualquer centro de atendimento. Para facilitar o uso de requisições assíncronas no sistema foi  utilizada o código <a href="http://pt.wikipedia.org/wiki/AJAX_(programa%C3%A7%C3%A3o">Ajax</a>) da lib escrita por mim e já comentada nesse blog (<a href="http://rogeriolino.com/2009/03/11/javascript-libjsx/">libjsx</a>, <a href="http://code.google.com/p/libjsx/source/browse/trunk/org/libjsx/ajax/Ajax.js">Ajax.js</a>).</p>

<p><a href="http://rogeriolino.com/uploads/2010/03/sga_atendimento.jpg"></a></p>

<p>[caption id=&ldquo;attachment_237&rdquo; align=&ldquo;aligncenter&rdquo; width=&ldquo;300&rdquo; caption=&ldquo;Tela de atendimento do SGA&rdquo;]<a href="http://rogeriolino.com/uploads/2010/03/sga_atendimento.jpg"><img src="http://rogeriolino.com/uploads/2010/03/sga_atendimento-300x239.jpg" alt="" /></a>[/caption]</p>

<p>Quem quiser utilizar ou contribuir com o projeto basta se cadastrar no site <a href="http://www.softwarepublico.gov.br/">http://www.softwarepublico.gov.br/</a> e acessar a página da <a href="http://www.softwarepublico.gov.br/ver-comunidade?community_id=15719494">comunidade</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/03/11/html5-database/">HTML5: Database</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-03-11T16:17:36-03:00" pubdate data-updated="true">Mar 11<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Uma das funcionalidades mais robustas presentes nessa nova versão do HTML é exatamente o suporte ao armazenamento local, sem ser por <a href="http://pt.wikipedia.org/wiki/Cookie">Cookie</a> mas sim pelo banco de dados presente no browser. Tal funcionalidade já está presente no <a href="http://webkit.org">Webkit</a> que fornece uma aplicação de exemplo: <a href="http://webkit.org/demos/sticky-notes/">http://webkit.org/demos/sticky-notes/</a>.</p>

<p>No Webkit as informações são armazenadas utilizando <a href="http://www.sqlite.org/">SQLite</a>, e acredito que o Firefox irá pelo mesmo caminho, já que ele também utiliza o SQLite para armazenar os &ldquo;Favoritos&rdquo;.</p>

<p>Para abrir a conexão com a banco de dados (<strong>openDatabase</strong>) deve-se informar o nome do banco (<em>database name</em>), a versão (<em>database version</em>), o nome de exibição (<em>display name</em>) e o tamanho estimado em bytes (<em>estimated size</em>) que será armazenado.</p>

<pre><code>var db;
try {
    if (window.openDatabase) {
        db = openDatabase("MyDB", "1.0", "HTML5 Database Example", 200000);
        if (!db) {
            alert("Failed to open the database.");
        }
    } else {
        alert("Couldn't open the database.");
    }
} catch(err) { }
</code></pre>

<p>Uma vez estabelecida a conexão a interação passa ser efetuada através de comandos <a href="http://pt.wikipedia.org/wiki/SQL">SQL</a>.</p>

<pre><code>db.transaction(function(tx) {
tx.executeSql("CREATE TABLE myTable (id REAL UNIQUE, name TEXT, description TEXT, timestamp REAL");
});

db.transaction(function (tx) {
tx.executeSql("INSERT INTO myTable (id, name, description, timestamp) VALUES (?, ?, ?, ?)", [id, name, description, timestamp]);
});

db.transaction(function(tx) {
tx.executeSql("DELETE FROM myTable WHERE id = ?", [id]);
});

db.transaction(function(tx) {
    tx.executeSql(
        "SELECT * FROM myTable WHERE id = ?", 
         [id], 
         function(tx, result) {
             // success
             if (result.rows.length &gt; 0) {
                   alert("My name is: " + result.rows.item(0)['name']);
             } else {
                  alert("Sorry, no result for this id");
              }
         }, 
         function(tx, error) {
             // error
             alert("Error when try retrieve data: " + error.message);
         }
    );
});
</code></pre>

<p>O método <strong>executeSql</strong> pode receber 4 parâmetros, sendo eles:</p>

<ul>
<li><p>O SQL a ser executado</p></li>
<li><p>Os valores parametrizados para serem utilizados na consulta (array)</p></li>
<li><p>Função callback para ser executada caso haja sucesso (onSuccess)</p></li>
<li><p>Função callback para ser executada caso haja falha (onError)</p></li>
</ul>


<p>Sinceramente eu achei muito legal conceder mais esse poder ao Javascript no HTML5, porém <em>&ldquo;com grandes poderes vêm grandes responsabilidades&rdquo;</em>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
  
    
      <h1 class="entry-title"><a href="/2010/03/05/twitter-resumo-1/">Twitter: Resumo #1</a></h1>
      
      
    
      <p class="meta">
        








  


<time datetime="2010-03-05T20:44:31-03:00" pubdate data-updated="true">Mar 5<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://twitter.com/rogeriolino"><img src="http://rogeriolino.com/uploads/2010/03/Twitter.gif" alt="" /></a></p>

<ul>
<li><p><a href="http://bit.ly/aLnYDH">IE6 Funeral</a></p></li>
<li><p><a href="http://bit.ly/9aolgt">The Computer Language Benchmarks Game</a></p></li>
<li><p><a href="http://bit.ly/c21JDs">Java Performance comparisons</a></p></li>
<li><p><a href="http://bit.ly/9on1mE">Ubuntu cada vez mais Mac</a></p></li>
<li><p><a href="http://bit.ly/bpO0QQ">Password Chart: bom para os gestores de redes</a></p></li>
<li><p><a href="http://bit.ly/aPGsB4">Empresa aérea bane Flash de seu site</a></p></li>
<li><p><a href="http://bit.ly/ciYcRG">Twitter Drops MySQL For Cassandra</a></p></li>
<li><p><a href="http://bit.ly/8XMxc2">PS3 Bug</a></p></li>
<li><p><a href="http://bit.ly/d8p6xw">Mercado de games sofre com falta de mão de obra</a></p></li>
<li><p><a href="http://bit.ly/cFMmvJ">Nova hierarquia para certificações Java</a></p></li>
</ul>


<p>Gostou dos links? <a href="http://twitter.com/rogeriolino">Follow me!</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/5">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/page/3">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/06/09/php-jsonserializable/">PHP: JsonSerializable</a>
      </li>
    
      <li class="post">
        <a href="/2014/05/12/session-keep-alive/">Session Keep Alive</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/29/stack-overflow-em-portugues/">Stack Overflow em Português</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/10/simple-javascript-support-detection/">Simple javascript support detection</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/08/freezeheader-jquery-plugin/">FreezeHeader jQuery plugin</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/rogeriolino">@rogeriolino</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'rogeriolino',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Rogério Lino <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, customized with <a href="https://github.com/mjhea0/whiterspace">whiterspace</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'rogeriolino';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
